
# UniProt XML Data Ingestion using Airflow and Neo4j

This project demonstrates how to ingest UniProt XML data into a Neo4j graph database using Apache Airflow. The pipeline parses the UniProt XML files, extracts relevant data, and stores it in a graph data model.

## Prerequisites

-   Docker
-   Docker Compose


## Getting Started

1.  Clone the repository:

bashCopy code

`git clone https://github.com/yourusername/uniprot-xml-ingestion.git
cd uniprot-xml-ingestion` 

2.  Update the `docker-compose.yml` file with the appropriate Neo4j password:

yamlCopy code

`services:
  neo4j:
    ...
    environment:
      NEO4J_AUTH: neo4j/your_password` 

3.  Build and start the Airflow and Neo4j services using Docker Compose:

bashCopy code

`docker-compose up -d` 

4.  Access the Airflow webserver at [http://localhost:8080](http://localhost:8080/) and the Neo4j browser at [http://localhost:7474](http://localhost:7474/).
    
5.  Enable the DAG in the Airflow webserver and trigger the DAG run.
    

## Project Structure

-   `dags/`: Contains the Airflow DAG definition and Python scripts for the data ingestion pipeline.
-   `logs/`: Contains logs generated by the Airflow services.
-   `plugins/`: Contains custom Airflow plugins (if any).
-   `requirements.txt`: Lists the Python dependencies required for the project.
-   `docker-compose.yml`: The Docker Compose configuration file for running the Airflow and Neo4j services.
-   `README.md`: This file.

## Data Model

The graph data model consists of the following nodes and relationships:

-   Nodes: `Protein`, `Gene`, `Organism`, `Reference`, `Feature`
-   Relationships: `HAS_GENE`, `FROM_ORGANISM`, `HAS_REFERENCE`, `HAS_FEATURE`

The relationships are based on the XML schema of the UniProt data.

## Querying the Data

After the data ingestion is complete, you can query the Neo4j graph database using Cypher queries. Some example queries are:

-   Retrieve all proteins:

cypherCopy code

`MATCH (p:Protein) RETURN p` 

-   Retrieve all genes related to a specific protein:

cypherCopy code

`MATCH (p:Protein {id: "P12345"})-[:FROM_GENE]->(g:Gene) RETURN g` 

-   Retrieve all features of a specific protein:

cypherCopy code

`MATCH (p:Protein {id: "P12345"})-[:HAS_FEATURE]->(f:Feature) RETURN f` 

-   Retrieve all proteins with a specific organism:

cypherCopy code

`MATCH (p:Protein)-[:FROM_ORGANISM]->(o:Organism {scientific_name: "Homo sapiens"}) RETURN p` 

## License

This project is licensed under the Apache License, Version 2.0. See the [LICENSE](https://chat.openai.com/chat/LICENSE) file for details.
